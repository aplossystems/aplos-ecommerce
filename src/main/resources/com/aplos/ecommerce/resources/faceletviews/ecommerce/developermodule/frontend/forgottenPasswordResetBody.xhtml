<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:aplos="http://www.aplossystems.co.uk/aplosComponents"
	xmlns:aploscc="http://java.sun.com/jsf/composite/components">
	
	<div class="checkout">
		<aplos:panel rendered="#{ resetCodeIncorrect == null }">
			<aplos:panel rendered="#{ passwordChanged == null }">
				<table class="aplos-form-table">
					<tr>
						<td class="aplos-label">New Password</td>
						<td class="aplos-field"><h:inputSecret value="#{forgottenPasswordResetFeDmb.password}"/></td>
					</tr>
					<tr>
						<td class="aplos-label">Confirm Password</td>
						<td class="aplos-field"><h:inputSecret value="#{forgottenPasswordResetFeDmb.passwordConfirm}"/></td>
					</tr>
					<tr>
						<td colspan="2" style="text-align:right">
				      		<aploscc:ajaxButton id="checkoutBtn" action="#{forgottenPasswordResetFeDmb.updateNewPassword}" value="Continue" />
						</td>
					</tr>
				</table>
         	</aplos:panel>
	        <aplos:panel rendered="#{ passwordChanged != null }">
				<h3>Your password has been changed.</h3>
	         	<br/><br/>
	      		<aploscc:ajaxButton id="proceedToCheckoutBtn" action="#{forgottenPasswordResetFeDmb.goToHome}" value="Continue" />
			</aplos:panel>
		</aplos:panel>		
		<aplos:panel rendered="#{ resetCodeIncorrect != null }">
			<h3>Your reset code has not been recognised</h3>
			<br/><br/>
			Please request another reset code.
			<br/><br/>
			<aploscc:ajaxButton action="#{forgottenPasswordResetFeDmb.goToForgottenPassword}" value="Request New Code"/>
		</aplos:panel>
	</div>

</ui:composition>